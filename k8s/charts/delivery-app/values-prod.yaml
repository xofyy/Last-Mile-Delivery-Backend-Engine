# --- PROD ENVIRONMENT OVERRIDES ---

backend:
  replicaCount: 1 # Reduced to 1 to fit in small cluster
  autoscaling:
    enabled: true
    minReplicas: 1
    maxReplicas: 5
    targetCPUUtilizationPercentage: 70
  resources:
    requests:
      cpu: "200m"  # Realistic request for proper HPA calculation
      memory: "512Mi"
    limits:
      cpu: "1000m" # Reduced limit
      memory: "1024Mi"
  env:
    springProfile: "prod"
  # Increased probe delays for slow Spring Boot startup (~50s)
  livenessProbe:
    initialDelaySeconds: 90
    periodSeconds: 10
    failureThreshold: 3
  readinessProbe:
    initialDelaySeconds: 60
    periodSeconds: 10
    failureThreshold: 3
  image:
    tag: 8054f65a3090eccf1713cfffbe437cd59140453d
ai:
  replicaCount: 1 # Reduced to 1 to fit in small cluster
  autoscaling:
    enabled: true
    minReplicas: 1
    maxReplicas: 3
    targetCPUUtilizationPercentage: 70
  resources:
    requests:
      cpu: "50m"
      memory: "128Mi"
    limits:
      cpu: "1000m"
      memory: "1024Mi"
  image:
    tag: 8054f65a3090eccf1713cfffbe437cd59140453d
postgres:
  storage: "10Gi" # Prod data for larger disk
